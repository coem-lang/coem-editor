var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},c=e.parcelRequire34c6;null==c&&((c=function(e){if(e in t)return t[e].exports;if(e in n){var c=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,c.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire34c6=c);var o=c("8BrLS");const r=document.querySelector(".navToggle"),i=document.querySelector(".nav"),l=document.querySelectorAll(".nav__item > button"),s=document.querySelectorAll(".nav__dropdown-item > button"),d=document.querySelector(".filename-title"),a=document.querySelectorAll(".example-item button"),u=document.querySelector(".regex");let v=!1;function m(e){e.preventDefault();let t=e.currentTarget;v=t.closest(".nav__item")?.classList.toggle("nav__item--open")}function f(e){e.preventDefault();let t=e.currentTarget;if(v){for(let e of l)e.closest(".nav__item")?.classList.remove("nav__item--open");t.closest(".nav__item")?.classList.add("nav__item--open"),t.focus()}}function p(e){e.preventDefault(),v=!1,e.currentTarget.closest(".nav__item")?.classList.remove("nav__item--open")}function L(){x(""),d.innerText="Untitled"}function E(){const e=document.createElement("input");e.type="file",e.accept=".coem,.txt",e.addEventListener("input",(e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.addEventListener("load",(()=>{x(e.result);const n=t.name.split("."),c=n.slice(0,n.length-1).join(".");d.innerText=c}),!1),e.readAsText(t,"UTF-8")}})),e.click()}function y(){const e=o.view.state.doc.toString(),t=new Blob([e],{type:"text/plain;charset=UTF-8"}),n=URL.createObjectURL(t),c=document.createElement("a");c.href=n;const r=d.innerText;c.download=`${r}.txt`,c.click()}function S(e){_(e.currentTarget.value)}function _(e){fetch("./examples/"+e+".coem").then((e=>e.text())).then((t=>{x(t),d.innerText=e})).catch((e=>console.log(e)))}function q(e){u.classList.add("visible")}function g(e){u.classList.remove("visible")}function k(e,t=""){if(!e)return null;console.error(e);const{oneLiner:n,preErrorSection:c,errorSection:o,postErrorSection:r}=formatCoemError(e,t);let i=n;o&&(i+="<br />",i+=`${c}<span class="error">${o}</span>${r}`)}function w(){const e=o.view.state.doc.toString();console.log(e);const t=new Environment;try{x(run(e,t)),k(null)}catch(t){k(t,e)}}function h(e){o.view.dispatch(o.view.state.replaceSelection(e)),o.view.focus()}function x(e){o.view.dispatch({changes:{from:0,to:o.view.state.doc.length,insert:e}}),o.view.focus()}document.addEventListener("DOMContentLoaded",(()=>{_("docks"),r.addEventListener("click",(e=>{e.preventDefault(),i.classList.toggle("open")?r.innerText="×":r.innerText="☰",document.body.classList.toggle("navIsOpen")})),l.forEach((e=>{e.addEventListener("click",m),e.addEventListener("mouseover",f)})),s.forEach((e=>{e.addEventListener("click",p)})),document.querySelector("#newBtn").addEventListener("click",L),document.querySelector("#loadBtn").addEventListener("click",E),document.querySelector("#saveBtn").addEventListener("click",y),a.forEach((e=>{e.addEventListener("click",S)})),document.querySelector("#regexBtn").addEventListener("click",q),document.querySelector(".backdrop").addEventListener("click",g),document.querySelector("#echoBtn").addEventListener("click",w),document.querySelector("#clearBtn").addEventListener("click",(()=>x(""))),document.querySelector("#commentBtn").addEventListener("click",(()=>h("† "))),document.querySelector("#dashBtn").addEventListener("click",(()=>h("—"))),document.querySelector("#colonBtn").addEventListener("click",(()=>h(":"))),document.querySelector("#ampersandBtn").addEventListener("click",(()=>h("&"))),document.querySelector("#openQuoteBtn").addEventListener("click",(()=>h("“"))),document.querySelector("#closeQuoteBtn").addEventListener("click",(()=>h("”"))),document.querySelector("#pipeBtn").addEventListener("click",(()=>h("|"))),document.querySelector("#openParenBtn").addEventListener("click",(()=>h("("))),document.querySelector("#closeParenBtn").addEventListener("click",(()=>h(")"))),document.querySelector("#questionBtn").addEventListener("click",(()=>h("?"))),document.querySelector("#asteriskBtn").addEventListener("click",(()=>h("*"))),document.querySelector("#plusBtn").addEventListener("click",(()=>h("+")))})),document.addEventListener("keydown",(e=>{if("Escape"===e.code&&(u.classList.contains("visible")&&u.classList.remove("visible"),v)){const e=document.querySelector(".nav__item--open");e&&e.classList.remove("nav__item--open"),v=!1}if("ArrowLeft"===e.code||"ArrowRight"===e.code){const t=document.querySelector(".nav__item--open");if(t){const n=document.querySelectorAll(".nav__item"),c=Array.from(n).indexOf(t);let o=null;"ArrowLeft"===e.code&&c>0?o=n[c-1]:"ArrowRight"===e.code&&c<n.length-1&&(o=n[c+1]),o&&(t.classList.remove("nav__item--open"),o.classList.add("nav__item--open"))}}}));
//# sourceMappingURL=index.12b134c2.js.map
